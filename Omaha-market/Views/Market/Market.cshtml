@model IEnumerable<Omaha_market.Models.ProductModel>
@{
    ViewData["Title"] = "Market";
}

<h1>Market</h1>
@if (ViewData["OnDiscount"] != null){
<h2>ON Discount</h2>
<table class="table">
        <tr>
             <th>Image</th>
             <th>Name</th>
             <th>Description</th>
             <th>Category</th>
             <th>Price</th>
             <th>On discount</th>
             <th>Amount</th>
        </tr>
        @foreach (var item in (List<ProductModel>)ViewData["OnDiscount"])
        {
        <tr>
                <td><img src="~/Images/@item.Img" height="60" width="60" /></td>
            <td>@item.NameRu</td>
            <td>@item.DescriptionRu</td>
            <td>@item.CategoryRu</td>
            <td>@item.Price</td>
            <td>@item.OnDiscount</td>
            <td>@item.amount</td>
               
        </tr>
        }
</table>
}
<br />
<br />
<div class="home">
 @foreach (var item in Model)
        {
        <a asp-action="Details" asp-controller="Market" asp-route-id="@item.Id">
        <div class="product">

          <img src="~/Images/@item.Img" width="100" height="100"/>

          <h5 align="center">@item.NameRu </h5>

          <h3>@item.Price</h3>
            
          <a class="Buy" align="right" asp-action="Buy" asp-controller="Pay" asp-route-id="@item.Id">Buy</a>
        </div>
        </a>  
        }
</div>

<table class="table">
    <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Description</th>
        <th>Category</th>
        <th>Price</th>
        <th>On discount</th>
        <th>Amount</th>
    </tr>
        @foreach (var item in Model)
        {
        <tr>
            <td><img src="~/Images/@item.Img" height="60" width="60" /></td>
            <td>@item.NameRu</td>
            <td>@item.DescriptionRu</td>
            <td>@item.CategoryRu</td>
            <td>@item.Price</td>
            <td>@item.OnDiscount</td>
            <td>@item.amount</td>

        </tr>
        }
</table>




<div align="center">
    @if ((int)ViewData["Page"]>1)
{
    int i = (int)ViewData["Page"] - 1;

    <a align="left" asp-action="Index" asp-controller="Market" asp-route-page="@i"><img height="10" src="~/Images/WebElements/arrowL.png" /></a>
}
    @for (int i = 1; i <= (int)ViewData["AmountOfPages"];)
    {
        if ((int)ViewData["Page"]==i)
        {
            <a class="On" asp-action="Index" asp-controller="Market" asp-route-page="@i">@i</a>
        }
        else
        {           
           <a class="Page" asp-action="Index" asp-controller="Market" asp-route-page="@i">@i</a>
        }
        i++;
    }
    @if ((int)ViewData["Page"] != (int)ViewData["AmountOfPages"])
{
    int i = (int)ViewData["Page"] + 1; 

    <a align="right" asp-action="Index" asp-controller="Market" asp-route-page="@i"><img height="10" src="~/Images/WebElements/arrowR.png" /></a>
}
</div>